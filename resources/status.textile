---
layout: page
title: "Mural"
group: navigation
---
{% include JB/setup %}

O Mural é o cerne da comunicação dentro do Redu. Através dele os usuários podem postar comentários, respostas e pedidos de ajuda. Além disso o Mural é o meio pelo qual as movimentações do sistema são mostradas. No contexto da API, qualquer elemento mostrado no Mural é chamado de @status@.

div(thumbnail){width:610px; margin: 0 auto}. !/assets/images/mural-example.png!

h2. "Tipos de status":#get-statuses

div(thumbnail){width:329px; float:left; margin: 0 20px 20px 0}. !/assets/images/status-classes.png!

Existem 4 especializações básicas do status: Activity, Log, Answer e Help. Cada uma servindo a um propósito diferente. Na interface Web do Redu cada status é representado de uma forma diferente no mural.

table(table table-bordered table-striped){clear: both;}.
|_.Tipo|_.Descrição|_.Restrições|
|Activity|Post criado pelo usuário. É o tipo mais comum de status.|N/A|
|Help|Representa um pedido de ajuda.|Só pode ser criado no Mural da "Aula":lecture.html|
|Answer|Resposta a um Activity ou Help.|N/A|
|Log|Criado automoaticamente pelo sistema, representa uma movimentação importante. Exemplo: cricação de aula.|Não pode ser criado pelo usuário.|

h3. Activity e Help

Os status do tipo Activity e Help são essencialmente iguais. Abaixo a relação de links presentes na representação de ambos:

table(table table-bordered table-striped){clear: both;}.
|_.Link|_.Descrição|
|id|Identificador único do status|
|statusable|Mural onde o status foi criado. Exemplo: Disciplina|
|user|Autor do status|
|answers|Respostas ao status|

h3. Answer

Abaixo a relação de links presentes na representação de um status tipo Answer:

table(table table-bordered table-striped){clear: both;}.
|_.Link|_.Descrição|
|id|Identificador único do status.|
|statusable|Mural onde o status foi criado. Exemplo: Disciplina.|
|user|Autor do status.|
|logeable|O que gerou a movimentação. Por exemplo: aula que foi criada.|

h3. Answer

Abaixo a relação de links presentes na representação de um status tipo Answer:

table(table table-bordered table-striped){clear: both;}.
|_.Link|_.Descrição|
|id|Identificador único do status.|
|user|Autor do status.|
|in_response_to|Activity ou Help respondido pela Answer|

h2. "GET /api/statuses/:status_id":#get-status

Retorna um @status@ com o ID especificado.

h4. Parâmetros

table(table table-bordered table-striped).
|_.Parâmetro|_.Descrição|_.Restrições|
|*:status_id*| ID do status|N/A|

h2. "GET /api/statuses/:status_id/answers":#get-answers

Retorna as respostas de um status. É aplicado aos tipos Help e Activity.

h4. Parâmetros

table(table table-bordered table-striped).
|_.Parâmetro|_.Descrição|_.Restrições|
|*:status_id*| ID do status|N/A|

h2. "POST /api/statuses/:status_id/answers":#post-answer

Cria um status do tipo Answer em resposta a um Activity ou Help.

h4. Parâmetros

table(table table-bordered table-striped).
|_.Parâmetro|_.Descrição|_.Restrições|
|*:status_id*| ID do status em questão|Somente do tipo Activity ou Help|
|*text*| É uma resposta a um comentário ou um pedido de ajuda|Máximo 800 caracteres|

h2. "GET /api/users/:user_id/statuses":#get-user-status

Retorna todos os @status@ do usuário. Também é possível filtrar pelo tipo. Caso @:type@ não seja informado é retornado os status do tipo Activity e Help do usuário.

h4. Parâmetros

table(table table-bordered table-striped).
|_.Parâmetro|_.Descrição|_.Restrições|
|*:user_id*| ID do usuário em questão| N/A |
|*:type*| Filtragem pelo tipo de status |Pode ser do tipo @Activity@, @Help@ ou @Log@|

h4. Exemplo

*Requisição:*

@GET /api/users/:user_id/statuses?type=Activity@

*Resposta:*

<pre>
[{
  "text"=>
    "Lorem ipsum dolor sit amet, consectetur magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation",
    "type"=>"Activity",
    "id"=>149,
    "links"=>
      [{"rel"=>"self", "href"=>"http://127.0.0.1:3000/api/statuses/149"},
        {"rel"=>"statusable",
       "href"=>"http://127.0.0.1:3000/api/users/usuario277"},
      {"rel"=>"user", "href"=>"http://127.0.0.1:3000/api/users/usuario275"},
      {"rel"=>"answers",
       "href"=>"http://127.0.0.1:3000/api/statuses/149/answers"}],
    "created_at"=>Thu May 03 10:24:01 -0300 2012
    },{
    "text"=>
     "Lorem ipsum dolor sit amet, consectetur magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation",
     "type"=>"Activity",
     "id"=>152,
     "links"=>
     [{"rel"=>"self", "href"=>"http://127.0.0.1:3000/api/statuses/152"},
      {"rel"=>"statusable",
       "href"=>"http://127.0.0.1:3000/api/users/usuario281"},
      {"rel"=>"user", "href"=>"http://127.0.0.1:3000/api/users/usuario275"},
      {"rel"=>"answers",
       "href"=>"http://127.0.0.1:3000/api/statuses/152/answers"}],
    "created_at"=>Thu May 03 10:24:02 -0300 2012
}]
</pre>

h2. "POST /api/users/:user_id/statuses":#post-user-status

Cria um status do tipo Activity no Mural do usuário.

h4. Parâmetros

table(table table-bordered table-striped).
|_.Parâmetro|_.Descrição|_.Restrições|
|*:user_id*| ID do usuário em questão|N/A|
|*text*| Conteúdo do status |Máximo 800 caracteres|

h2. "GET /api/spaces/:space_id/statuses":#get-space-status

Retorna todos os @status@ do mural de uma disciplina. Há possibilidade de filtrar os status da disciplina pelo tipo.

h4. Parâmetros

table(table table-bordered table-striped).
|_.Parâmetro|_.Descrição|_.Restrições|
|*:space_id*| ID do space| N/A |
|*:type*| Filtragem pelo tipo de status |Pode ser do tipo @Activity@, @Help@ ou @Log@|

h2. "POST /api/users/:space_id/statuses":#post-space-status

Cria um status no Mural da disciplina.

h4. Parâmetros

table(table table-bordered table-striped).
|_.Parâmetro|_.Descrição|_.Restrições|
|*:space_id*| ID do space em questão|N/A|
|*text*| Conteúdo do status |Máximo 800 caracteres|

h3. Mural de uma Aula

h2. "GET /api/lectures/:lecture_id/statuses":#get-lecture-status

Retorna todos os @status@ do mural de uma aula. Pode se filtrar os status de uma aula pelo tipo.

h4. Parâmetros

table(table table-bordered table-striped).
|_.Parâmetro|_.Descrição|_.Restrições|
|*:lecture_id*| ID da lecture em questão|N/A|
|*:type*| Filtragem pelo tipo de status |Pode ser do tipo @Activity@, @Help@ ou @Log@|

h2. "POST /api/lectures/:lecture_id/statuses":#post-lecture-status

Cria um status no Mural da aula. Somente neste caso é permitido criar um Help (pedido de ajuda).

h4. Parâmetros

table(table table-bordered table-striped).
|_.Parâmetro|_.Descrição|_.Restrições|
|*:lecture_id*| ID da lecture em questão|N/A|
|*text*| Conteúdo do status |Máximo 800 caracteres|
|*:type*| Tipo do status | Activity ou Help |

h2. "DELETE /api/statuses/:status_id":#delete-status

Remove o status.

h4. Parâmetros

table(table table-bordered table-striped).
|_.Parâmetro|_.Descrição|_.Restrições|
|*:status_id*|ID do status|N/A|
